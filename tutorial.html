<!-- HTML header for doxygen 1.14.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Atlas: Tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
  DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
  DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeParagraphLink.init()
        </script>
        <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeInteractiveToc.init()
            DoxygenAwesomeInteractiveToc.hideMobileMenu = false
        </script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Atlas<span id="projectnumber">&#160;Alpha 2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('tutorial.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Tutorial </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#autotoc_md2">Installation </a>
    <ul>
      <li class="level2">
        <a href="#autotoc_md3">Create a Project </a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#autotoc_md4">Setting up the enviornment </a>
    <ul>
      <li class="level2">
        <a href="#autotoc_md5">Creating a <a class="el" href="class_window.html" title="Structure representing a window in the application. This contains the main interface for interacting ...">Window</a> </a>
      </li>
      <li class="level2">
        <a href="#autotoc_md6">Creating a <a class="el" href="class_scene.html" title="Abstract class that represents a 3D scene. It contains all lights and objects that are going to be re...">Scene</a> </a>
      </li>
      <li class="level2">
        <a href="#autotoc_md7">Creating a Directional <a class="el" href="struct_light.html" title="Structure representing a point light in a scene. A point light emits light in all directions from a s...">Light</a> </a>
      </li>
      <li class="level2">
        <a href="#autotoc_md8">Adding the <a class="el" href="class_skybox.html" title="Class that represents a skybox, which is a large cube that surrounds the scene to introduce stunning ...">Skybox</a> </a>
        <ul>
          <li class="level3">
            <a href="#autotoc_md9">Building the <a class="el" href="struct_cubemap.html" title="Structure that holds the data for a cubemap texture.">Cubemap</a> </a>
          </li>
          <li class="level3">
            <a href="#autotoc_md10">Building the <a class="el" href="class_skybox.html" title="Class that represents a skybox, which is a large cube that surrounds the scene to introduce stunning ...">Skybox</a> </a>
          </li>
        </ul>
      </li>
      <li class="level2">
        <a href="#autotoc_md11">Adding a <a class="el" href="class_camera.html" title="Class representing a camera in 3D space, capable of generating view and projection matrices....">Camera</a> </a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#autotoc_md12">Setting up the scene </a>
    <ul>
      <li class="level2">
        <a href="#autotoc_md13">Creating the ground </a>
        <ul>
          <li class="level3">
            <a href="#autotoc_md14">Creating a texture </a>
          </li>
        </ul>
      </li>
      <li class="level2">
        <a href="#autotoc_md15">Creating a falling ball </a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#autotoc_md16">Creating a compound object </a>
  </li>
  <li class="level1">
    <a href="#autotoc_md17">Creating a component </a>
  </li>
  <li class="level1">
    <a href="#autotoc_md18">Adding UI </a>
  </li>
  <li class="level1">
    <a href="#autotoc_md19">Conclusion </a>
  </li>
</ul>
</div>
<div class="textblock"><p>This tutorial teaches you how to create a scene like this:</p>
<p><img src="result.png" alt="Result" class="inline"/></p>
<p>To make this, we'll going to use everything we need, from UI to physics, to components. This will teach you the basics of the engine.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
Installation</h1>
<p>First of all, we need to install the engine. To install the engine, go to the following <a href="https://github.com/maxvdec/atlas">GitHub repository</a> and go to the releases page. After downloading the latest release, you can download the executable called <span class="tt">atlas</span>. That executable is the core of Atlas. With the executable you can run, create and do whatever with the engine. It is pretty useful and straightforward.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md3"></a>
Create a Project</h2>
<p>Creating a project with the atlas executable is super simple. Enter a folder and try running <span class="tt">atlas create testProject</span>. This will download the necessary things and resources from the latest stable release.</p>
<p>The project structure once created is pretty simple. You just basically need to center with the <span class="tt">testProject/main.cpp</span> file which is the basic file we're going to need. First of all, we're going to edit <span class="tt">testProject/main.cpp</span> and remove all of its content, because we're going to begin from scratch</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
Setting up the enviornment</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
Creating a Window</h2>
<p>Creating a <a class="el" href="class_window.html" title="Structure representing a window in the application. This contains the main interface for interacting ...">Window</a> is the first step to every application. The window is our canvas, and to create it, with Atlas is quite simple. This is the code we're going to need:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="window_8h.html">atlas/window.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code hl_class" href="class_window.html">Window</a> window({.title = <span class="stringliteral">&quot;My Window&quot;</span>,</div>
<div class="line">                   .width = 1600,</div>
<div class="line">                   .height = 1200,</div>
<div class="line">                   .mouseCaptured = <span class="keyword">false</span>});</div>
<div class="line">    window.<a class="code hl_function" href="class_window.html#ae137ec42ddc87d666d49661484410091">run</a>();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclass_window_html"><div class="ttname"><a href="class_window.html">Window</a></div><div class="ttdoc">Structure representing a window in the application. This contains the main interface for interacting ...</div><div class="ttdef"><b>Definition</b> <a href="window_8h_source.html#l00233">window.h:233</a></div></div>
<div class="ttc" id="aclass_window_html_ae137ec42ddc87d666d49661484410091"><div class="ttname"><a href="class_window.html#ae137ec42ddc87d666d49661484410091">Window::run</a></div><div class="ttdeci">void run()</div><div class="ttdoc">Starts the main window loop and begins rendering.</div></div>
<div class="ttc" id="awindow_8h_html"><div class="ttname"><a href="window_8h.html">window.h</a></div></div>
</div><!-- fragment --><p>If you go see the documentation for <a class="el" href="class_window.html">Window</a>, you'll see that the constructor can take more arguments, but for now, we like these. This way, we can see the window running normally and our mouse is not captured. Here's how the result looks like:</p>
<p><img src="create-window.png" alt="CreatingAWindow" class="inline"/></p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
Creating a Scene</h2>
<p>Now, scenes are one other important concept in Atlas. Scenes are the base of every small interaction and thing that happens in the game. It organizes objects and more. Here's a rather simple. In this scene, we're just going to create a cube.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="object_8h.html">atlas/object.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="scene_8h.html">atlas/scene.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="window_8h.html">atlas/window.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MainScene : <span class="keyword">public</span> <a class="code hl_class" href="class_scene.html">Scene</a> {</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> cube;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_scene.html#a9d87607c6e6a93d1bfef10ed1cfdc667">initialize</a>(<a class="code hl_class" href="class_window.html">Window</a> &amp;window)<span class="keyword"> override </span>{</div>
<div class="line">        cube = <a class="code hl_function" href="object_8h.html#af13bfa64d174c4166ed96e81d666f433">createBox</a>({1.0f, 1.0f, 1.0f}, <a class="code hl_function" href="struct_color.html#aacbef2c60156c8c2bb422206d3d9c560">Color::red</a>());</div>
<div class="line">        cube.<a class="code hl_function" href="class_core_object.html#a983e3a31e6bc75c91faee51758702dc3">rotate</a>({45.0f, 45.0f, 0.0f});</div>
<div class="line">        window.<a class="code hl_function" href="class_window.html#a884249b8d0ff2d1f1c1c0b3c2a2ca7ee">addObject</a>(&amp;cube);</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code hl_class" href="class_window.html">Window</a> window({.title = <span class="stringliteral">&quot;My Window&quot;</span>,</div>
<div class="line">                   .width = 1600,</div>
<div class="line">                   .height = 1200,</div>
<div class="line">                   .mouseCaptured = <span class="keyword">false</span>});</div>
<div class="line">    MainScene scene;</div>
<div class="line">    window.<a class="code hl_function" href="class_window.html#ac693d92bb6f52273932549cd121a5755">setScene</a>(&amp;scene);</div>
<div class="line">    window.<a class="code hl_function" href="class_window.html#ae137ec42ddc87d666d49661484410091">run</a>();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclass_core_object_html"><div class="ttname"><a href="class_core_object.html">CoreObject</a></div><div class="ttdoc">Represents a 3D object in the scene, including its geometry, material and every interaction with the ...</div><div class="ttdef"><b>Definition</b> <a href="object_8h_source.html#l00286">object.h:286</a></div></div>
<div class="ttc" id="aclass_core_object_html_a983e3a31e6bc75c91faee51758702dc3"><div class="ttname"><a href="class_core_object.html#a983e3a31e6bc75c91faee51758702dc3">CoreObject::rotate</a></div><div class="ttdeci">void rotate(const Rotation3d &amp;deltaRotation) override</div><div class="ttdoc">Rotates the object by a certain amount.</div></div>
<div class="ttc" id="aclass_scene_html"><div class="ttname"><a href="class_scene.html">Scene</a></div><div class="ttdoc">Abstract class that represents a 3D scene. It contains all lights and objects that are going to be re...</div><div class="ttdef"><b>Definition</b> <a href="scene_8h_source.html#l00045">scene.h:45</a></div></div>
<div class="ttc" id="aclass_scene_html_a9d87607c6e6a93d1bfef10ed1cfdc667"><div class="ttname"><a href="class_scene.html#a9d87607c6e6a93d1bfef10ed1cfdc667">Scene::initialize</a></div><div class="ttdeci">virtual void initialize(Window &amp;window)=0</div><div class="ttdoc">Function that initializes the scene. This method is called once by the Window class.</div></div>
<div class="ttc" id="aclass_window_html_a884249b8d0ff2d1f1c1c0b3c2a2ca7ee"><div class="ttname"><a href="class_window.html#a884249b8d0ff2d1f1c1c0b3c2a2ca7ee">Window::addObject</a></div><div class="ttdeci">void addObject(Renderable *object)</div><div class="ttdoc">Adds a renderable object to the window.</div></div>
<div class="ttc" id="aclass_window_html_ac693d92bb6f52273932549cd121a5755"><div class="ttname"><a href="class_window.html#ac693d92bb6f52273932549cd121a5755">Window::setScene</a></div><div class="ttdeci">void setScene(Scene *scene)</div><div class="ttdoc">Sets the scene for the window.</div></div>
<div class="ttc" id="aobject_8h_html"><div class="ttname"><a href="object_8h.html">object.h</a></div></div>
<div class="ttc" id="aobject_8h_html_af13bfa64d174c4166ed96e81d666f433"><div class="ttname"><a href="object_8h.html#af13bfa64d174c4166ed96e81d666f433">createBox</a></div><div class="ttdeci">CoreObject createBox(Size3d size, Color color={1.0, 1.0, 1.0, 1.0})</div><div class="ttdoc">Function that creates a box CoreObject with the specified size and color.</div></div>
<div class="ttc" id="ascene_8h_html"><div class="ttname"><a href="scene_8h.html">scene.h</a></div></div>
<div class="ttc" id="astruct_color_html_aacbef2c60156c8c2bb422206d3d9c560"><div class="ttname"><a href="struct_color.html#aacbef2c60156c8c2bb422206d3d9c560">Color::red</a></div><div class="ttdeci">static Color red()</div><div class="ttdef"><b>Definition</b> <a href="units_8h_source.html#l00208">units.h:208</a></div></div>
</div><!-- fragment --><p>Now here, a lot is happening. Look at this fragment:</p>
<div class="fragment"><div class="line">cube = <a class="code hl_function" href="object_8h.html#af13bfa64d174c4166ed96e81d666f433">createBox</a>({1.0f, 1.0f, 1.0f}, <a class="code hl_function" href="struct_color.html#aacbef2c60156c8c2bb422206d3d9c560">Color::red</a>());</div>
<div class="line">cube.<a class="code hl_function" href="class_core_object.html#a983e3a31e6bc75c91faee51758702dc3">rotate</a>({45.0f, 45.0f, 0.0f});</div>
</div><!-- fragment --><p>We create a box and we set its color to red. You can tweak the size by touching the first three values. We also add this object to the window. When you create a scene make sure that all the objects that are going to render, you must declare them in class level, so the pointers are not destroyed.</p>
<p>Also, note how we instanciate the scene and set it as the main scene of the window.</p>
<div class="fragment"><div class="line">MainScene scene;</div>
<div class="line">window.<a class="code hl_function" href="class_window.html#ac693d92bb6f52273932549cd121a5755">setScene</a>(&amp;scene);</div>
</div><!-- fragment --><p>If we run this, we get something like this:</p>
<p><img src="unlit-scene.png" alt="UnlitScene" class="inline"/></p>
<p>Do you see the cube? Maybe you don't and that's because there aren't any lights. Not even a directional light! So we might need to create one</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
Creating a Directional Light</h2>
<p>Directional Lights simulate the sun. They are simple since they just have a direction. So it's simple to set them like this:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="light_8h.html">atlas/light.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MainScene : <span class="keyword">public</span> <a class="code hl_class" href="class_scene.html">Scene</a> {</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> cube;</div>
<div class="line">    <a class="code hl_class" href="class_directional_light.html">DirectionalLight</a> light;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> initialize(<a class="code hl_class" href="class_window.html">Window</a> &amp;window)<span class="keyword"> override </span>{</div>
<div class="line">        cube = <a class="code hl_function" href="object_8h.html#af13bfa64d174c4166ed96e81d666f433">createBox</a>({1.0f, 1.0f, 1.0f}, <a class="code hl_function" href="struct_color.html#aacbef2c60156c8c2bb422206d3d9c560">Color::red</a>());</div>
<div class="line">        cube.<a class="code hl_function" href="class_core_object.html#a983e3a31e6bc75c91faee51758702dc3">rotate</a>({45.0f, 45.0f, 0.0f});</div>
<div class="line">        window.<a class="code hl_function" href="class_window.html#a884249b8d0ff2d1f1c1c0b3c2a2ca7ee">addObject</a>(&amp;cube);</div>
<div class="line"> </div>
<div class="line">        light = DirectionalLight({-0.75f, -1.0f, 0.0}, <a class="code hl_function" href="struct_color.html#aad4699ae003d7a86b5edc5fccdbaf4c8">Color::white</a>());</div>
<div class="line">        this-&gt;addDirectionalLight(&amp;light);</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="aclass_directional_light_html"><div class="ttname"><a href="class_directional_light.html">DirectionalLight</a></div><div class="ttdoc">Structure representing a directional light in a scene. A directional light emits light in a specific ...</div><div class="ttdef"><b>Definition</b> <a href="light_8h_source.html#l00227">light.h:227</a></div></div>
<div class="ttc" id="alight_8h_html"><div class="ttname"><a href="light_8h.html">light.h</a></div></div>
<div class="ttc" id="astruct_color_html_aad4699ae003d7a86b5edc5fccdbaf4c8"><div class="ttname"><a href="struct_color.html#aad4699ae003d7a86b5edc5fccdbaf4c8">Color::white</a></div><div class="ttdeci">static Color white()</div><div class="ttdef"><b>Definition</b> <a href="units_8h_source.html#l00206">units.h:206</a></div></div>
</div><!-- fragment --><p>When we run the scene now, we get a better result!</p>
<p><img src="lit-scene.png" alt="LitScene" class="inline"/></p>
<p>For even better results, we can boost up the <b>ambient light</b>. That will give lighter colors, and better illumination. Try adding this line:</p>
<div class="fragment"><div class="line">this-&gt;ambientLight.intensity = 0.3f;</div>
</div><!-- fragment --><p>That gives us this result!</p>
<p><img src="ambient.png" alt="Ambient Light" class="inline"/></p>
<p>But the scene still fills a bit empty, so let's try adding the skybox.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
Adding the Skybox</h2>
<p>To add a <a class="el" href="class_skybox.html" title="Class that represents a skybox, which is a large cube that surrounds the scene to introduce stunning ...">Skybox</a>, we need to understand that is basically six pictures conforming some sort of dice. You normally have six different textures, build a <b>cubemap</b> and pass it to the <b>skybox</b>. To make a cubemap, you should download the textures here:</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
Building the Cubemap</h3>
<p>Try adding these textures to a new folder in <span class="tt">testProject/resources</span>. Then, inside that, we can add <span class="tt">skybox</span>. Inside <span class="tt">testProject/resources/skybox</span> add the following pictures:</p>
<ul>
<li>This as <span class="tt">nx.png</span> <img src="nx.png" alt="NX" class="inline"/></li>
<li>This as <span class="tt">ny.png</span> <img src="ny.png" alt="NY" class="inline"/></li>
<li>This as <span class="tt">nz.png</span> <img src="nz.png" alt="NZ" class="inline"/></li>
<li>This as <span class="tt">px.png</span> <img src="px.png" alt="PX" class="inline"/></li>
<li>This as <span class="tt">py.png</span> <img src="py.png" alt="PY" class="inline"/></li>
<li>And this as <span class="tt">pz.png</span> <img src="pz.png" alt="PZ" class="inline"/></li>
</ul>
<p>Now let's hop on on building the actual cubemap!</p>
<p>Let's make a function in our main scene that does that.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="workspace_8h.html">atlas/workspace.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="texture_8h.html">atlas/texture.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MainScene : <span class="keyword">public</span> <a class="code hl_class" href="class_scene.html">Scene</a> {</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> cube;</div>
<div class="line">    <a class="code hl_class" href="class_directional_light.html">DirectionalLight</a> light;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <a class="code hl_struct" href="struct_cubemap.html">Cubemap</a> createCubemap() {</div>
<div class="line">        <span class="comment">// Cubemaps are in this order: right, left, top, bottom, front, back</span></div>
<div class="line">        <a class="code hl_struct" href="struct_resource.html">Resource</a> right = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(</div>
<div class="line">            <span class="stringliteral">&quot;skybox/px.png&quot;</span>, <span class="stringliteral">&quot;RightSkybox&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08">ResourceType::Image</a>);</div>
<div class="line">        <a class="code hl_struct" href="struct_resource.html">Resource</a> left = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(</div>
<div class="line">            <span class="stringliteral">&quot;skybox/nx.png&quot;</span>, <span class="stringliteral">&quot;LeftSkybox&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08">ResourceType::Image</a>);</div>
<div class="line">        <a class="code hl_struct" href="struct_resource.html">Resource</a> top = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(</div>
<div class="line">            <span class="stringliteral">&quot;skybox/py.png&quot;</span>, <span class="stringliteral">&quot;TopSkybox&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08">ResourceType::Image</a>);</div>
<div class="line">        <a class="code hl_struct" href="struct_resource.html">Resource</a> bottom = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(</div>
<div class="line">            <span class="stringliteral">&quot;skybox/ny.png&quot;</span>, <span class="stringliteral">&quot;BottomSkybox&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08">ResourceType::Image</a>);</div>
<div class="line">        <a class="code hl_struct" href="struct_resource.html">Resource</a> front = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(</div>
<div class="line">            <span class="stringliteral">&quot;skybox/pz.png&quot;</span>, <span class="stringliteral">&quot;FrontSkybox&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08">ResourceType::Image</a>);</div>
<div class="line">        <a class="code hl_struct" href="struct_resource.html">Resource</a> back = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(</div>
<div class="line">            <span class="stringliteral">&quot;skybox/nz.png&quot;</span>, <span class="stringliteral">&quot;BackSkybox&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08">ResourceType::Image</a>);</div>
<div class="line">        <a class="code hl_struct" href="struct_resource_group.html">ResourceGroup</a> group = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a5dd2cec99c67fa3b009d5b22f9c7a938">createResourceGroup</a>(</div>
<div class="line">            <span class="stringliteral">&quot;Skybox&quot;</span>, {right, left, top, bottom, front, back});</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_function" href="struct_cubemap.html#ae5986bc2dbf885ead71ce672f7dd4137">Cubemap::fromResourceGroup</a>(group);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> initialize(Window &amp;window)<span class="keyword"> override </span>{</div>
<div class="line">        <span class="comment">// We need to set the root path to resources</span></div>
<div class="line">        <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#aa55ec71aa73e673fad6e4d11fbb6bbe7">setRootPath</a>(<span class="stringliteral">&quot;resources/&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        cube = <a class="code hl_function" href="object_8h.html#af13bfa64d174c4166ed96e81d666f433">createBox</a>({1.0f, 1.0f, 1.0f}, <a class="code hl_function" href="struct_color.html#aacbef2c60156c8c2bb422206d3d9c560">Color::red</a>());</div>
<div class="line">        cube.<a class="code hl_function" href="class_core_object.html#a983e3a31e6bc75c91faee51758702dc3">rotate</a>({45.0f, 45.0f, 0.0f});</div>
<div class="line">        window.<a class="code hl_function" href="class_window.html#a884249b8d0ff2d1f1c1c0b3c2a2ca7ee">addObject</a>(&amp;cube);</div>
<div class="line"> </div>
<div class="line">        light = DirectionalLight({-0.75f, -1.0f, 0.0}, <a class="code hl_function" href="struct_color.html#aad4699ae003d7a86b5edc5fccdbaf4c8">Color::white</a>());</div>
<div class="line">        this-&gt;addDirectionalLight(&amp;light);</div>
<div class="line"> </div>
<div class="line">        this-&gt;ambientLight.intensity = 0.3f;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="aclass_workspace_html_a5dd2cec99c67fa3b009d5b22f9c7a938"><div class="ttname"><a href="class_workspace.html#a5dd2cec99c67fa3b009d5b22f9c7a938">Workspace::createResourceGroup</a></div><div class="ttdeci">ResourceGroup createResourceGroup(std::string groupName, const std::vector&lt; Resource &gt; &amp;resources)</div><div class="ttdoc">Creates a new resource group containing multiple resources.</div></div>
<div class="ttc" id="aclass_workspace_html_a6eaca94e589851c29b2f66acf28599cb"><div class="ttname"><a href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">Workspace::createResource</a></div><div class="ttdeci">Resource createResource(const fs::path &amp;path, std::string name, ResourceType type=ResourceType::File)</div><div class="ttdoc">Creates a new resource from a file path.</div></div>
<div class="ttc" id="aclass_workspace_html_a8588fb898bffea4777ceffab7c2c7795"><div class="ttname"><a href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a></div><div class="ttdeci">static Workspace &amp; get()</div><div class="ttdef"><b>Definition</b> <a href="workspace_8h_source.html#l00076">workspace.h:76</a></div></div>
<div class="ttc" id="aclass_workspace_html_aa55ec71aa73e673fad6e4d11fbb6bbe7"><div class="ttname"><a href="class_workspace.html#aa55ec71aa73e673fad6e4d11fbb6bbe7">Workspace::setRootPath</a></div><div class="ttdeci">void setRootPath(const fs::path &amp;path)</div><div class="ttdoc">Sets the root path for the workspace.</div><div class="ttdef"><b>Definition</b> <a href="workspace_8h_source.html#l00145">workspace.h:145</a></div></div>
<div class="ttc" id="astruct_cubemap_html"><div class="ttname"><a href="struct_cubemap.html">Cubemap</a></div><div class="ttdoc">Structure that holds the data for a cubemap texture.</div><div class="ttdef"><b>Definition</b> <a href="texture_8h_source.html#l00233">texture.h:233</a></div></div>
<div class="ttc" id="astruct_cubemap_html_ae5986bc2dbf885ead71ce672f7dd4137"><div class="ttname"><a href="struct_cubemap.html#ae5986bc2dbf885ead71ce672f7dd4137">Cubemap::fromResourceGroup</a></div><div class="ttdeci">static Cubemap fromResourceGroup(ResourceGroup &amp;resourceGroup)</div><div class="ttdoc">Creates a cubemap from a resource group.</div></div>
<div class="ttc" id="astruct_resource_group_html"><div class="ttname"><a href="struct_resource_group.html">ResourceGroup</a></div><div class="ttdoc">Structure representing a collection of related resources.</div><div class="ttdef"><b>Definition</b> <a href="workspace_8h_source.html#l00040">workspace.h:40</a></div></div>
<div class="ttc" id="astruct_resource_html"><div class="ttname"><a href="struct_resource.html">Resource</a></div><div class="ttdoc">Structure representing a single resource in the workspace.</div><div class="ttdef"><b>Definition</b> <a href="workspace_8h_source.html#l00030">workspace.h:30</a></div></div>
<div class="ttc" id="atexture_8h_html"><div class="ttname"><a href="texture_8h.html">texture.h</a></div></div>
<div class="ttc" id="aworkspace_8h_html"><div class="ttname"><a href="workspace_8h.html">workspace.h</a></div></div>
<div class="ttc" id="aworkspace_8h_html_a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08"><div class="ttname"><a href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08">ResourceType::Image</a></div><div class="ttdeci">@ Image</div><div class="ttdef"><b>Definition</b> <a href="workspace_8h_source.html#l00024">workspace.h:24</a></div></div>
</div><!-- fragment --><h3 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
Building the Skybox</h3>
<p>After this, is quite simple to build the skybox. Let's add it first to our class properties:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MainScene : <span class="keyword">public</span> <a class="code hl_class" href="class_scene.html">Scene</a> {</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> cube;</div>
<div class="line">    <a class="code hl_class" href="class_directional_light.html">DirectionalLight</a> light;</div>
<div class="line">    <a class="code hl_class" href="class_skybox.html">Skybox</a> skybox; </div>
<div class="line">...</div>
<div class="ttc" id="aclass_skybox_html"><div class="ttname"><a href="class_skybox.html">Skybox</a></div><div class="ttdoc">Class that represents a skybox, which is a large cube that surrounds the scene to introduce stunning ...</div><div class="ttdef"><b>Definition</b> <a href="texture_8h_source.html#l00454">texture.h:454</a></div></div>
</div><!-- fragment --><p>And then, inside the <span class="tt">initialize</span> function, we can add this line at the end:</p>
<div class="fragment"><div class="line">skybox = <a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82a63fbbc4fe17b5b4262ebe7c2921518ed">Skybox</a>();</div>
<div class="line">skybox.<a class="code hl_variable" href="class_skybox.html#ab91d72f29e949ef124b953be43ac4713">cubemap</a> = createCubemap();</div>
<div class="line">skybox.<a class="code hl_function" href="class_skybox.html#a0860e9aa6cbf872f3e37aecc632a66f8">display</a>(window);</div>
<div class="ttc" id="aclass_skybox_html_a0860e9aa6cbf872f3e37aecc632a66f8"><div class="ttname"><a href="class_skybox.html#a0860e9aa6cbf872f3e37aecc632a66f8">Skybox::display</a></div><div class="ttdeci">void display(Window &amp;window)</div><div class="ttdoc">Displays the skybox in the window.</div></div>
<div class="ttc" id="aclass_skybox_html_ab91d72f29e949ef124b953be43ac4713"><div class="ttname"><a href="class_skybox.html#ab91d72f29e949ef124b953be43ac4713">Skybox::cubemap</a></div><div class="ttdeci">Cubemap cubemap</div><div class="ttdoc">The cubemap texture used for the skybox.</div><div class="ttdef"><b>Definition</b> <a href="texture_8h_source.html#l00462">texture.h:462</a></div></div>
<div class="ttc" id="ashader_8h_html_aed7a1c7a5976e4adb712d0a231dada82a63fbbc4fe17b5b4262ebe7c2921518ed"><div class="ttname"><a href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82a63fbbc4fe17b5b4262ebe7c2921518ed">AtlasVertexShader::Skybox</a></div><div class="ttdeci">@ Skybox</div><div class="ttdoc">Vertex shader for rendering skyboxes.</div><div class="ttdef"><b>Definition</b> <a href="shader_8h_source.html#l00060">shader.h:60</a></div></div>
</div><!-- fragment --><p>This will display the skybox in the window. Now, if we run the scene, we get this:</p>
<p><img src="skybox.png" alt="Skybox" class="inline"/></p>
<p>Now, the perspective is a bit weird because the rotation of the cube is a bit odd. Let's fix that by adding a camera.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md11"></a>
Adding a Camera</h2>
<p>To add a camera, we simply need to create a camera object and set its position. Let's add this to our class properties:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="camera_8h.html">atlas/camera.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MainScene : <span class="keyword">public</span> <a class="code hl_class" href="class_scene.html">Scene</a> {</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> cube;</div>
<div class="line">    <a class="code hl_class" href="class_directional_light.html">DirectionalLight</a> light;</div>
<div class="line">    <a class="code hl_class" href="class_skybox.html">Skybox</a> skybox;</div>
<div class="line">    <a class="code hl_class" href="class_camera.html">Camera</a> camera;</div>
<div class="line">...</div>
<div class="ttc" id="acamera_8h_html"><div class="ttname"><a href="camera_8h.html">camera.h</a></div></div>
<div class="ttc" id="aclass_camera_html"><div class="ttname"><a href="class_camera.html">Camera</a></div><div class="ttdoc">Class representing a camera in 3D space, capable of generating view and projection matrices....</div><div class="ttdef"><b>Definition</b> <a href="camera_8h_source.html#l00040">camera.h:40</a></div></div>
</div><!-- fragment --><p> And then, inside the <span class="tt">initialize</span> function, we can set its position and make the window use it:</p>
<div class="fragment"><div class="line">camera = <a class="code hl_class" href="class_camera.html">Camera</a>();</div>
<div class="line">camera.<a class="code hl_function" href="class_camera.html#aefe37c9af548b9551704ba8d03e7a16d">setPosition</a>({-5.0f, 1.0f, 2.0f});</div>
<div class="line">camera.<a class="code hl_function" href="class_camera.html#a0cdce87ef38c320f3344f7bf00df7572">lookAt</a>({0.0f, 0.0f, 0.0f});</div>
<div class="line">window.<a class="code hl_function" href="class_window.html#a80a9dc31491365532bfcb5e6b726cbf4">setCamera</a>(&amp;camera);</div>
<div class="ttc" id="aclass_camera_html_a0cdce87ef38c320f3344f7bf00df7572"><div class="ttname"><a href="class_camera.html#a0cdce87ef38c320f3344f7bf00df7572">Camera::lookAt</a></div><div class="ttdeci">void lookAt(const Point3d &amp;newTarget)</div><div class="ttdoc">Sets the point where the camera is looking at in 3D space.</div></div>
<div class="ttc" id="aclass_camera_html_aefe37c9af548b9551704ba8d03e7a16d"><div class="ttname"><a href="class_camera.html#aefe37c9af548b9551704ba8d03e7a16d">Camera::setPosition</a></div><div class="ttdeci">void setPosition(const Position3d &amp;newPosition)</div><div class="ttdoc">Sets the position of the camera in 3D space.</div></div>
<div class="ttc" id="aclass_window_html_a80a9dc31491365532bfcb5e6b726cbf4"><div class="ttname"><a href="class_window.html#a80a9dc31491365532bfcb5e6b726cbf4">Window::setCamera</a></div><div class="ttdeci">void setCamera(Camera *newCamera)</div><div class="ttdoc">Sets the camera for the window.</div></div>
</div><!-- fragment --><p>Now, the perspective is way better:</p>
<p><img src="camera.png" alt="Camera" class="inline"/></p>
<p>Let's begin building the scene by adding the ground and falling ball.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
Setting up the scene</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
Creating the ground</h2>
<p>To create the ground, we can simply create a debug box and scale it to our needs. To make that let's try adding this to our class properties:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MainScene : <span class="keyword">public</span> <a class="code hl_class" href="class_scene.html">Scene</a> {</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> ground;</div>
<div class="line">    <a class="code hl_class" href="class_directional_light.html">DirectionalLight</a> light;</div>
<div class="line">    <a class="code hl_class" href="class_skybox.html">Skybox</a> skybox;</div>
<div class="line">    <a class="code hl_class" href="class_camera.html">Camera</a> camera;</div>
<div class="line">...</div>
</div><!-- fragment --><p>Let's remove all of our cube code and add this to the <span class="tt">initialize</span> function:</p>
<div class="fragment"><div class="line">ground = <a class="code hl_function" href="object_8h.html#a1438b4e812210046ec08146589d0df10">createDebugBox</a>({5.0f, 0.3f, 5.0f});</div>
<div class="ttc" id="aobject_8h_html_a1438b4e812210046ec08146589d0df10"><div class="ttname"><a href="object_8h.html#a1438b4e812210046ec08146589d0df10">createDebugBox</a></div><div class="ttdeci">CoreObject createDebugBox(Size3d size)</div><div class="ttdoc">Function that creates a box CoreObject with a default texture and physics body.</div></div>
</div><!-- fragment --><p>But before adding it to the window, we're going to add a couple stuff. First, we're going to create a texture for it that resembles a double checkerboard.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
Creating a texture</h3>
<p>To create a texture, we can use the <span class="tt"><a class="el" href="struct_texture.html#a7ed0da17f706d1d687f753193558527f" title="Creates a double checkerboard texture.">Texture::createDoubleCheckerboard</a></span> function. This function creates a texture with a double checkerboard pattern. Let's create a texture for the ground:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="struct_texture.html">Texture</a> checkerboard = <a class="code hl_function" href="struct_texture.html#a7ed0da17f706d1d687f753193558527f">Texture::createDoubleCheckerboard</a>(4096, 4096, 640, 80, <a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82acb5feb1b7314637725a2e73bdc9f7295">Color</a>(0.5, 0.5, 1.0),</div>
<div class="line"><a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82acb5feb1b7314637725a2e73bdc9f7295">Color</a>(0.5, 0.5, 1.0), <a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82acb5feb1b7314637725a2e73bdc9f7295">Color</a>(0.375, 0.375, 0.75));</div>
<div class="ttc" id="ashader_8h_html_aed7a1c7a5976e4adb712d0a231dada82acb5feb1b7314637725a2e73bdc9f7295"><div class="ttname"><a href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82acb5feb1b7314637725a2e73bdc9f7295">AtlasVertexShader::Color</a></div><div class="ttdeci">@ Color</div><div class="ttdoc">Vertex shader for rendering solid colors.</div><div class="ttdef"><b>Definition</b> <a href="shader_8h_source.html#l00040">shader.h:40</a></div></div>
<div class="ttc" id="astruct_texture_html"><div class="ttname"><a href="struct_texture.html">Texture</a></div><div class="ttdoc">Structure that holds the data for a texture. It is created from a resource.</div><div class="ttdef"><b>Definition</b> <a href="texture_8h_source.html#l00111">texture.h:111</a></div></div>
<div class="ttc" id="astruct_texture_html_a7ed0da17f706d1d687f753193558527f"><div class="ttname"><a href="struct_texture.html#a7ed0da17f706d1d687f753193558527f">Texture::createDoubleCheckerboard</a></div><div class="ttdeci">static Texture createDoubleCheckerboard(int width, int height, int checkSizeBig, int checkSizeSmall, Color color1, Color color2, Color color3, TextureParameters params={}, Color borderColor={0, 0, 0, 0})</div><div class="ttdoc">Creates a double checkerboard texture.</div></div>
</div><!-- fragment --><p>We can then set this texture to the ground:</p>
<div class="fragment"><div class="line">ground.<a class="code hl_function" href="class_core_object.html#a6a04b028500eb9c95e41886e2643672d">attachTexture</a>(checkerboard);</div>
<div class="ttc" id="aclass_core_object_html_a6a04b028500eb9c95e41886e2643672d"><div class="ttname"><a href="class_core_object.html#a6a04b028500eb9c95e41886e2643672d">CoreObject::attachTexture</a></div><div class="ttdeci">void attachTexture(const Texture &amp;texture) override</div><div class="ttdoc">Attaches a texture to the object.</div></div>
</div><!-- fragment --><p>After this, we need to make sure the ground doesn't fall. To do that, we can set its mass to infinity, which will sove the issue:</p>
<div class="fragment"><div class="line">ground.<a class="code hl_variable" href="class_game_object.html#af69e678688bfef2c0bba4aa78085c8a8">body</a>-&gt;applyMass(0);</div>
<div class="ttc" id="aclass_game_object_html_af69e678688bfef2c0bba4aa78085c8a8"><div class="ttname"><a href="class_game_object.html#af69e678688bfef2c0bba4aa78085c8a8">GameObject::body</a></div><div class="ttdeci">std::shared_ptr&lt; Body &gt; body</div><div class="ttdoc">Gets the physics body associated with the object.</div><div class="ttdef"><b>Definition</b> <a href="component_8h_source.html#l00297">component.h:297</a></div></div>
</div><!-- fragment --><p>Now we can add the ground to the window:</p>
<div class="fragment"><div class="line">window.<a class="code hl_function" href="class_window.html#a884249b8d0ff2d1f1c1c0b3c2a2ca7ee">addObject</a>(&amp;ground);</div>
</div><!-- fragment --><p>Doing this, we get this result:</p>
<p><img src="plane.png" alt="Ground" class="inline"/></p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md15"></a>
Creating a falling ball</h2>
<p>Again, to create a falling ball, we can use the <span class="tt">createDebugSphere</span> function. Let's add a new property to our class:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MainScene : <span class="keyword">public</span> <a class="code hl_class" href="class_scene.html">Scene</a> {</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> ground;</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> ball;</div>
<div class="line">    <a class="code hl_class" href="class_directional_light.html">DirectionalLight</a> light;</div>
<div class="line">    <a class="code hl_class" href="class_skybox.html">Skybox</a> skybox;</div>
<div class="line">    <a class="code hl_class" href="class_camera.html">Camera</a> camera;</div>
<div class="line">...</div>
</div><!-- fragment --><p>And then, inside the <span class="tt">initialize</span> function, we can add this code:</p>
<div class="fragment"><div class="line">ball = <a class="code hl_function" href="object_8h.html#a489ccddca865b97fafa117e23b4d0f1c">createDebugSphere</a>(0.1);</div>
<div class="line">ball.<a class="code hl_function" href="class_core_object.html#a7971c9dca915ded12b99a2513a499ff8">setPosition</a>({0.0, 2.0, 0.0}); <span class="comment">// Start above the ground</span></div>
<div class="line">ball.<a class="code hl_variable" href="class_game_object.html#af69e678688bfef2c0bba4aa78085c8a8">body</a>-&gt;linearVelocity = {2.0, 0.0, 0.0}; <span class="comment">// Give it some initial horizontal velocity</span></div>
<div class="line">ball.<a class="code hl_variable" href="class_game_object.html#af69e678688bfef2c0bba4aa78085c8a8">body</a>-&gt;friction = 0.5f;</div>
<div class="line">window.<a class="code hl_function" href="class_window.html#a884249b8d0ff2d1f1c1c0b3c2a2ca7ee">addObject</a>(&amp;ball);</div>
<div class="ttc" id="aclass_core_object_html_a7971c9dca915ded12b99a2513a499ff8"><div class="ttname"><a href="class_core_object.html#a7971c9dca915ded12b99a2513a499ff8">CoreObject::setPosition</a></div><div class="ttdeci">void setPosition(const Position3d &amp;newPosition) override</div><div class="ttdoc">Sets the position of the object.</div></div>
<div class="ttc" id="aobject_8h_html_a489ccddca865b97fafa117e23b4d0f1c"><div class="ttname"><a href="object_8h.html#a489ccddca865b97fafa117e23b4d0f1c">createDebugSphere</a></div><div class="ttdeci">CoreObject createDebugSphere(double radius, unsigned int sectorCount=36, unsigned int stackCount=18)</div><div class="ttdoc">Function that creates a debug sphere CoreObject with the specified radius, sectorCount and stackCount...</div></div>
</div><!-- fragment --><p>Adding this code, we get this result: <img src="fall-ball.png" alt="Falling Ball" class="inline"/></p>
<p>But we miss something... the ball has no shadows! Let's add shadows to the directional light by adding this line under the initialization of the light:</p>
<div class="fragment"><div class="line">light.<a class="code hl_function" href="class_directional_light.html#ac3545ce4619f11a9d8f181ac50642148">castShadows</a>(window, 4096); <span class="comment">// 4096 is the shadow map resolution</span></div>
<div class="ttc" id="aclass_directional_light_html_ac3545ce4619f11a9d8f181ac50642148"><div class="ttname"><a href="class_directional_light.html#ac3545ce4619f11a9d8f181ac50642148">DirectionalLight::castShadows</a></div><div class="ttdeci">void castShadows(Window &amp;window, int resolution=2048)</div><div class="ttdoc">Function that enables casting shadows from the light.</div></div>
</div><!-- fragment --><p>After this, we get this nice shadowed result: <img src="shadows.png" alt="Shadows" class="inline"/></p>
<p>After this, we are ready to add our first compound object.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md16"></a>
Creating a compound object</h1>
<p>Compound objects are objects that are made up of multiple shapes. To create a compound object, we create a new class that inherits from <span class="tt"><a class="el" href="class_compound_object.html" title="A Compound object is a GameObject that can be extended by the user to generate objects that encapsula...">CompoundObject</a></span>. Let's create a simple static sphere and cube.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="component_8h.html">atlas/component.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>SphereCube : <span class="keyword">public</span> <a class="code hl_class" href="class_compound_object.html">CompoundObject</a> {</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> sphere;</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> cube;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_compound_object.html#ae606cb70c43eeba4f75e129f8969f703">init</a>()<span class="keyword"> override </span>{</div>
<div class="line">        cube = <a class="code hl_function" href="object_8h.html#a1438b4e812210046ec08146589d0df10">createDebugBox</a>({0.5f, 0.5f, 0.5f});</div>
<div class="line">        cube.<a class="code hl_function" href="class_core_object.html#a7971c9dca915ded12b99a2513a499ff8">setPosition</a>({-1.0, 1.0, 0.0});</div>
<div class="line">        cube.<a class="code hl_function" href="class_core_object.html#a12d021716ccc8a72b2f38567579ecf10">initialize</a>();</div>
<div class="line">        cube.<a class="code hl_variable" href="class_game_object.html#af69e678688bfef2c0bba4aa78085c8a8">body</a>-&gt;applyMass(0); <span class="comment">// Make it static</span></div>
<div class="line">        this-&gt;<a class="code hl_function" href="class_compound_object.html#ad8c5f34501bd048e751e84dedd79d7b6">addObject</a>(&amp;cube);</div>
<div class="line"> </div>
<div class="line">        sphere = <a class="code hl_function" href="object_8h.html#a489ccddca865b97fafa117e23b4d0f1c">createDebugSphere</a>(0.25f);</div>
<div class="line">        sphere.<a class="code hl_function" href="class_core_object.html#a7971c9dca915ded12b99a2513a499ff8">setPosition</a>({1.0, 1.0, 0.0});</div>
<div class="line">        sphere.<a class="code hl_function" href="class_core_object.html#a12d021716ccc8a72b2f38567579ecf10">initialize</a>();</div>
<div class="line">        sphere.<a class="code hl_variable" href="class_game_object.html#af69e678688bfef2c0bba4aa78085c8a8">body</a>-&gt;applyMass(0); <span class="comment">// Make it static</span></div>
<div class="line">        this-&gt;<a class="code hl_function" href="class_compound_object.html#ad8c5f34501bd048e751e84dedd79d7b6">addObject</a>(&amp;sphere);</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="aclass_compound_object_html"><div class="ttname"><a href="class_compound_object.html">CompoundObject</a></div><div class="ttdoc">A Compound object is a GameObject that can be extended by the user to generate objects that encapsula...</div><div class="ttdef"><b>Definition</b> <a href="component_8h_source.html#l00326">component.h:326</a></div></div>
<div class="ttc" id="aclass_compound_object_html_ad8c5f34501bd048e751e84dedd79d7b6"><div class="ttname"><a href="class_compound_object.html#ad8c5f34501bd048e751e84dedd79d7b6">CompoundObject::addObject</a></div><div class="ttdeci">void addObject(CoreObject *obj)</div><div class="ttdoc">Adds a component to the object.</div><div class="ttdef"><b>Definition</b> <a href="component_8h_source.html#l00374">component.h:374</a></div></div>
<div class="ttc" id="aclass_compound_object_html_ae606cb70c43eeba4f75e129f8969f703"><div class="ttname"><a href="class_compound_object.html#ae606cb70c43eeba4f75e129f8969f703">CompoundObject::init</a></div><div class="ttdeci">virtual void init()</div><div class="ttdoc">Initializes the compound object.</div><div class="ttdef"><b>Definition</b> <a href="component_8h_source.html#l00347">component.h:347</a></div></div>
<div class="ttc" id="aclass_core_object_html_a12d021716ccc8a72b2f38567579ecf10"><div class="ttname"><a href="class_core_object.html#a12d021716ccc8a72b2f38567579ecf10">CoreObject::initialize</a></div><div class="ttdeci">void initialize() override</div><div class="ttdoc">Function to initialize the object. Can be overridden by derived.</div></div>
<div class="ttc" id="acomponent_8h_html"><div class="ttname"><a href="component_8h.html">component.h</a></div></div>
</div><!-- fragment --><p>Now, let's go ahead and add this compound object to our scene. First, we need to add a new property to our class:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MainScene : <span class="keyword">public</span> <a class="code hl_class" href="class_scene.html">Scene</a> {</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> ground;</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> ball;</div>
<div class="line">    SphereCube sphereCube;</div>
<div class="line">    <a class="code hl_class" href="class_directional_light.html">DirectionalLight</a> light;</div>
<div class="line">    <a class="code hl_class" href="class_skybox.html">Skybox</a> skybox;</div>
<div class="line">    <a class="code hl_class" href="class_camera.html">Camera</a> camera;</div>
<div class="line">...</div>
</div><!-- fragment --><p>Then, inside the <span class="tt">initialize</span> function, we can add this code:</p>
<div class="fragment"><div class="line">sphereCube = SphereCube();</div>
<div class="line">window.<a class="code hl_function" href="class_window.html#a884249b8d0ff2d1f1c1c0b3c2a2ca7ee">addObject</a>(&amp;sphereCube);</div>
</div><!-- fragment --><p>And we get this result:</p>
<p><img src="compound.png" alt="Compound Object" class="inline"/></p>
<p>Now, we need to move those shapes a bit! We're going to create our first component to do that.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md17"></a>
Creating a component</h1>
<p>Creating a component is super simple. Components are classes that inherit from <span class="tt"><a class="el" href="class_component.html" title="Behavior or property that can be attached to a GameObject to extend its capabilities.">Component</a></span> and have an <span class="tt">update</span> function that is called every frame. Let's create a simple component that moves the objects horizontally sinusoially.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="component_8h.html">atlas/component.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>HorizontalMover : <span class="keyword">public</span> <a class="code hl_class" href="class_component.html">Component</a> {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_component.html#a3b3bee5d55446124842e5f2e229e1384">update</a>(<span class="keywordtype">float</span> deltaTime)<span class="keyword"> override </span>{</div>
<div class="line">        <a class="code hl_class" href="class_window.html">Window</a>* window = <a class="code hl_variable" href="class_window.html#aa3c2a95cf2ce8cbbb668247f029b610c">Window::mainWindow</a>;</div>
<div class="line">        <span class="keywordtype">float</span> amplitude = 0.01f;</div>
<div class="line">        <span class="keywordtype">float</span> position = amplitude * sin(window-&gt;<a class="code hl_function" href="class_window.html#a3eceaf8292cf3e29e928c31218e5b0c8">getTime</a>());</div>
<div class="line">        <span class="keywordtype">object</span>-&gt;move({position, 0.0f, 0.0f});</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="aclass_component_html"><div class="ttname"><a href="class_component.html">Component</a></div><div class="ttdoc">Behavior or property that can be attached to a GameObject to extend its capabilities.</div><div class="ttdef"><b>Definition</b> <a href="component_8h_source.html#l00043">component.h:43</a></div></div>
<div class="ttc" id="aclass_component_html_a3b3bee5d55446124842e5f2e229e1384"><div class="ttname"><a href="class_component.html#a3b3bee5d55446124842e5f2e229e1384">Component::update</a></div><div class="ttdeci">virtual void update(float deltaTime)</div><div class="ttdoc">Updates the component each frame. This method is called every frame before rendering.</div><div class="ttdef"><b>Definition</b> <a href="component_8h_source.html#l00057">component.h:57</a></div></div>
<div class="ttc" id="aclass_window_html_a3eceaf8292cf3e29e928c31218e5b0c8"><div class="ttname"><a href="class_window.html#a3eceaf8292cf3e29e928c31218e5b0c8">Window::getTime</a></div><div class="ttdeci">float getTime()</div><div class="ttdoc">Gets the current time since window creation.</div></div>
<div class="ttc" id="aclass_window_html_aa3c2a95cf2ce8cbbb668247f029b610c"><div class="ttname"><a href="class_window.html#aa3c2a95cf2ce8cbbb668247f029b610c">Window::mainWindow</a></div><div class="ttdeci">static Window * mainWindow</div><div class="ttdoc">Static pointer to the main window instance. Used for global access to the primary window.</div><div class="ttdef"><b>Definition</b> <a href="window_8h_source.html#l00389">window.h:389</a></div></div>
</div><!-- fragment --><p>And we can now apply this component to our compound object from our <span class="tt">initialize</span> function in our scene:</p>
<div class="fragment"><div class="line">sphereCube.addComponent&lt;HorizontalMover&gt;(HorizontalMover());</div>
</div><!-- fragment --><p>Now, if we run the scene, we get this result:</p>
<p><img src="moving.png" alt="Moving Compound Object" class="inline"/></p>
<p>Now we just have to add one thing, the text on the screen.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md18"></a>
Adding UI</h1>
<p>To add a text, we first declare the text object in our class properties:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="text_8h.html">atlas/text.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MainScene : <span class="keyword">public</span> <a class="code hl_class" href="class_scene.html">Scene</a> {</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> ground;</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> ball;</div>
<div class="line">    SphereCube sphereCube;</div>
<div class="line">    <a class="code hl_class" href="class_directional_light.html">DirectionalLight</a> light;</div>
<div class="line">    <a class="code hl_class" href="class_skybox.html">Skybox</a> skybox;</div>
<div class="line">    <a class="code hl_class" href="class_camera.html">Camera</a> camera;</div>
<div class="line">    <a class="code hl_class" href="class_text.html">Text</a> fpsText;</div>
<div class="line">...</div>
<div class="ttc" id="aclass_text_html"><div class="ttname"><a href="class_text.html">Text</a></div><div class="ttdoc">Represents a text object in the game world. It allows rendering of text with a specific font,...</div><div class="ttdef"><b>Definition</b> <a href="text_8h_source.html#l00138">text.h:138</a></div></div>
<div class="ttc" id="atext_8h_html"><div class="ttname"><a href="text_8h.html">text.h</a></div></div>
</div><!-- fragment --><p>Then, inside the <span class="tt">initialize</span> function, we can add this code:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="struct_resource.html">Resource</a> fontResource = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(<span class="stringliteral">&quot;fonts/somefont.ttf&quot;</span>, <span class="stringliteral">&quot;SomeFont&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1a194f5394ae2e9c74dc3c441b92862d1d">ResourceType::Font</a>);</div>
<div class="line"> </div>
<div class="line">fpsText = <a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82a9dffbf69ffba8bc38bc4e01abf4b1675">Text</a>(<span class="stringliteral">&quot;FPS: 0&quot;</span>, <a class="code hl_function" href="struct_font.html#aa7480b6cce6947e2180384e9b7a80c0c">Font::fromResource</a>(<span class="stringliteral">&quot;SomeFont&quot;</span>, fontResource, 24), {25.0, 25.0}, <a class="code hl_function" href="struct_color.html#aad4699ae003d7a86b5edc5fccdbaf4c8">Color::white</a>());</div>
<div class="line"> </div>
<div class="line">window.<a class="code hl_function" href="class_window.html#a884249b8d0ff2d1f1c1c0b3c2a2ca7ee">addObject</a>(&amp;fpsText);</div>
<div class="ttc" id="ashader_8h_html_aed7a1c7a5976e4adb712d0a231dada82a9dffbf69ffba8bc38bc4e01abf4b1675"><div class="ttname"><a href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82a9dffbf69ffba8bc38bc4e01abf4b1675">AtlasVertexShader::Text</a></div><div class="ttdeci">@ Text</div><div class="ttdoc">Vertex shader for rendering text.</div><div class="ttdef"><b>Definition</b> <a href="shader_8h_source.html#l00075">shader.h:75</a></div></div>
<div class="ttc" id="astruct_font_html_aa7480b6cce6947e2180384e9b7a80c0c"><div class="ttname"><a href="struct_font.html#aa7480b6cce6947e2180384e9b7a80c0c">Font::fromResource</a></div><div class="ttdeci">static Font fromResource(const std::string &amp;fontName, Resource resource, int fontSize)</div><div class="ttdoc">Creates a font from a resource.</div></div>
<div class="ttc" id="aworkspace_8h_html_a8571efa4409be32e28abf3ea74a0dbb1a194f5394ae2e9c74dc3c441b92862d1d"><div class="ttname"><a href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1a194f5394ae2e9c74dc3c441b92862d1d">ResourceType::Font</a></div><div class="ttdeci">@ Font</div><div class="ttdef"><b>Definition</b> <a href="workspace_8h_source.html#l00024">workspace.h:24</a></div></div>
</div><!-- fragment --><p>If we run this, we get this result:</p>
<p><img src="text.png" alt="Text" class="inline"/></p>
<p>But we're not done yet. We need to update the text every frame to show the current FPS. To do that, we can create a new component that updates the text every frame. The thing is that we need to pass the text object to the component and we want our component to just work with text objects. So we can create a <a class="el" href="class_trait_component.html" title="Component that is specifically tied to a certain type of GameObject. It cannot be added to objects th...">TraitComponent</a> that works with text objects. Here's how we can do that:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="component_8h.html">atlas/component.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>FPSTextUpdater : <span class="keyword">public</span> <a class="code hl_class" href="class_trait_component.html">TraitComponent</a>&lt;Text&gt; {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_trait_component.html#a5dcb86c60e6c21af3bc0a2eabde32e65">updateComponent</a>(<a class="code hl_class" href="class_text.html">Text</a> *<span class="keywordtype">object</span>)<span class="keyword"> override </span>{</div>
<div class="line">        <span class="keywordtype">int</span> fps = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="class_component.html#a64a41360decf2e4b88ebf553fadb20e2">getWindow</a>()-&gt;<a class="code hl_function" href="class_window.html#a028584d54ccba5834bf12150a4ca6ffe">getFramesPerSecond</a>());</div>
<div class="line">        <span class="keywordtype">object</span>-&gt;content = <span class="stringliteral">&quot;FPS: &quot;</span> + std::to_string(fps);</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="aclass_component_html_a64a41360decf2e4b88ebf553fadb20e2"><div class="ttname"><a href="class_component.html#a64a41360decf2e4b88ebf553fadb20e2">Component::getWindow</a></div><div class="ttdeci">Window * getWindow()</div><div class="ttdoc">Gets the window associated with the component&#39;s GameObject.</div></div>
<div class="ttc" id="aclass_trait_component_html"><div class="ttname"><a href="class_trait_component.html">TraitComponent</a></div><div class="ttdoc">Component that is specifically tied to a certain type of GameObject. It cannot be added to objects th...</div><div class="ttdef"><b>Definition</b> <a href="component_8h_source.html#l00105">component.h:105</a></div></div>
<div class="ttc" id="aclass_trait_component_html_a5dcb86c60e6c21af3bc0a2eabde32e65"><div class="ttname"><a href="class_trait_component.html#a5dcb86c60e6c21af3bc0a2eabde32e65">TraitComponent::updateComponent</a></div><div class="ttdeci">virtual void updateComponent(T *object)</div><div class="ttdoc">Updates the component with a typed reference to the GameObject it is bound to.</div><div class="ttdef"><b>Definition</b> <a href="component_8h_source.html#l00130">component.h:130</a></div></div>
<div class="ttc" id="aclass_window_html_a028584d54ccba5834bf12150a4ca6ffe"><div class="ttname"><a href="class_window.html#a028584d54ccba5834bf12150a4ca6ffe">Window::getFramesPerSecond</a></div><div class="ttdeci">float getFramesPerSecond()</div><div class="ttdoc">Gets the current frames per second.</div><div class="ttdef"><b>Definition</b> <a href="window_8h_source.html#l00444">window.h:444</a></div></div>
</div><!-- fragment --><p>And we can now apply this component to our text object from our <span class="tt">initialize</span> function in our scene:</p>
<div class="fragment"><div class="line">fpsText.<a class="code hl_function" href="class_game_object.html#adf2a97be4a33d502eae78cf35f0b943e">addTraitComponent</a>&lt;<a class="code hl_class" href="class_text.html">Text</a>&gt;(FPSTextUpdater());</div>
<div class="ttc" id="aclass_game_object_html_adf2a97be4a33d502eae78cf35f0b943e"><div class="ttname"><a href="class_game_object.html#adf2a97be4a33d502eae78cf35f0b943e">GameObject::addTraitComponent</a></div><div class="ttdeci">void addTraitComponent(T &amp;&amp;existing)</div><div class="ttdoc">Adds a trait component to the object. A trait component is a component that is tied to a specific typ...</div><div class="ttdef"><b>Definition</b> <a href="component_8h_source.html#l00260">component.h:260</a></div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md19"></a>
Conclusion</h1>
<p>And that's it! We have our final scene!</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="camera_8h.html">atlas/camera.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="light_8h.html">atlas/light.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="object_8h.html">atlas/object.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="scene_8h.html">atlas/scene.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="text_8h.html">atlas/text.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="texture_8h.html">atlas/texture.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="window_8h.html">atlas/window.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="workspace_8h.html">atlas/workspace.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="component_8h.html">atlas/component.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>SphereCube : <span class="keyword">public</span> <a class="code hl_class" href="class_compound_object.html">CompoundObject</a> {</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> sphere;</div>
<div class="line">    <a class="code hl_class" href="class_core_object.html">CoreObject</a> cube;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> init()<span class="keyword"> override </span>{</div>
<div class="line">        cube = <a class="code hl_function" href="object_8h.html#a1438b4e812210046ec08146589d0df10">createDebugBox</a>({0.5f, 0.5f, 0.5f});</div>
<div class="line">        cube.<a class="code hl_function" href="class_core_object.html#a7971c9dca915ded12b99a2513a499ff8">setPosition</a>({-1.0, 1.0, 0.0});</div>
<div class="line">        cube.<a class="code hl_function" href="class_core_object.html#a12d021716ccc8a72b2f38567579ecf10">initialize</a>();</div>
<div class="line">        cube.<a class="code hl_variable" href="class_game_object.html#af69e678688bfef2c0bba4aa78085c8a8">body</a>-&gt;applyMass(0); <span class="comment">// Make it static</span></div>
<div class="line">        this-&gt;addObject(&amp;cube);</div>
<div class="line"> </div>
<div class="line">        sphere = <a class="code hl_function" href="object_8h.html#a489ccddca865b97fafa117e23b4d0f1c">createDebugSphere</a>(0.25f);</div>
<div class="line">        sphere.<a class="code hl_function" href="class_core_object.html#a7971c9dca915ded12b99a2513a499ff8">setPosition</a>({1.0, 1.0, 0.0});</div>
<div class="line">        sphere.<a class="code hl_function" href="class_core_object.html#a12d021716ccc8a72b2f38567579ecf10">initialize</a>();</div>
<div class="line">        sphere.<a class="code hl_variable" href="class_game_object.html#af69e678688bfef2c0bba4aa78085c8a8">body</a>-&gt;applyMass(0); <span class="comment">// Make it static</span></div>
<div class="line">        this-&gt;addObject(&amp;sphere);</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>FPSTextUpdater : <span class="keyword">public</span> <a class="code hl_class" href="class_trait_component.html">TraitComponent</a>&lt;Text&gt; {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_trait_component.html#a5dcb86c60e6c21af3bc0a2eabde32e65">updateComponent</a>(<a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82a9dffbf69ffba8bc38bc4e01abf4b1675">Text</a> *<span class="keywordtype">object</span>)<span class="keyword"> override </span>{</div>
<div class="line">        <span class="keywordtype">int</span> fps = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="class_component.html#a64a41360decf2e4b88ebf553fadb20e2">getWindow</a>()-&gt;<a class="code hl_function" href="class_window.html#a028584d54ccba5834bf12150a4ca6ffe">getFramesPerSecond</a>());</div>
<div class="line">        <span class="keywordtype">object</span>-&gt;content = <span class="stringliteral">&quot;FPS: &quot;</span> + std::to_string(fps);</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>HorizontalMover : <span class="keyword">public</span> <a class="code hl_class" href="class_component.html">Component</a> {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_component.html#a3b3bee5d55446124842e5f2e229e1384">update</a>(<span class="keywordtype">float</span> deltaTime)<span class="keyword"> override </span>{</div>
<div class="line">        Window *window = <a class="code hl_variable" href="class_window.html#aa3c2a95cf2ce8cbbb668247f029b610c">Window::mainWindow</a>;</div>
<div class="line">        <span class="keywordtype">float</span> amplitude = 0.01f;</div>
<div class="line">        <span class="keywordtype">float</span> position = amplitude * sin(window-&gt;<a class="code hl_function" href="class_window.html#a3eceaf8292cf3e29e928c31218e5b0c8">getTime</a>());</div>
<div class="line">        <span class="keywordtype">object</span>-&gt;move({position, 0.0f, 0.0f});</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MainScene : <span class="keyword">public</span> <a class="code hl_class" href="class_scene.html">Scene</a> {</div>
<div class="line">    CoreObject ground;</div>
<div class="line">    CoreObject ball;</div>
<div class="line">    DirectionalLight light;</div>
<div class="line">    <a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82a63fbbc4fe17b5b4262ebe7c2921518ed">Skybox</a> skybox;</div>
<div class="line">    Camera camera;</div>
<div class="line">    SphereCube sphereCube;</div>
<div class="line">    <a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82a9dffbf69ffba8bc38bc4e01abf4b1675">Text</a> fpsText;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <a class="code hl_enumvalue" href="texture_8h.html#a579bf435a05d45b75f553d37ebbb3225a29b142520cd0349c9f7375be4aa848c0">Cubemap</a> createCubemap() {</div>
<div class="line">        Resource right = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(</div>
<div class="line">            <span class="stringliteral">&quot;skybox/px.png&quot;</span>, <span class="stringliteral">&quot;RightSkybox&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08">ResourceType::Image</a>);</div>
<div class="line">        Resource left = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(</div>
<div class="line">            <span class="stringliteral">&quot;skybox/nx.png&quot;</span>, <span class="stringliteral">&quot;LeftSkybox&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08">ResourceType::Image</a>);</div>
<div class="line">        Resource top = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(</div>
<div class="line">            <span class="stringliteral">&quot;skybox/py.png&quot;</span>, <span class="stringliteral">&quot;TopSkybox&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08">ResourceType::Image</a>);</div>
<div class="line">        Resource bottom = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(</div>
<div class="line">            <span class="stringliteral">&quot;skybox/ny.png&quot;</span>, <span class="stringliteral">&quot;BottomSkybox&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08">ResourceType::Image</a>);</div>
<div class="line">        Resource front = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(</div>
<div class="line">            <span class="stringliteral">&quot;skybox/pz.png&quot;</span>, <span class="stringliteral">&quot;FrontSkybox&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08">ResourceType::Image</a>);</div>
<div class="line">        Resource back = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(</div>
<div class="line">            <span class="stringliteral">&quot;skybox/nz.png&quot;</span>, <span class="stringliteral">&quot;BackSkybox&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1abe53a0541a6d36f6ecb879fa2c584b08">ResourceType::Image</a>);</div>
<div class="line">        ResourceGroup group = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a5dd2cec99c67fa3b009d5b22f9c7a938">createResourceGroup</a>(</div>
<div class="line">            <span class="stringliteral">&quot;Skybox&quot;</span>, {right, left, top, bottom, front, back});</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_function" href="struct_cubemap.html#ae5986bc2dbf885ead71ce672f7dd4137">Cubemap::fromResourceGroup</a>(group);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> initialize(Window &amp;window)<span class="keyword"> override </span>{</div>
<div class="line">        <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#aa55ec71aa73e673fad6e4d11fbb6bbe7">setRootPath</a>(std::string(TEST_PATH) + <span class="stringliteral">&quot;/resources/&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        camera = Camera();</div>
<div class="line">        camera.<a class="code hl_function" href="class_camera.html#aefe37c9af548b9551704ba8d03e7a16d">setPosition</a>({-5.0f, 1.0f, 2.0f});</div>
<div class="line">        camera.<a class="code hl_function" href="class_camera.html#a0cdce87ef38c320f3344f7bf00df7572">lookAt</a>({0.0f, 0.0f, 0.0f});</div>
<div class="line">        window.<a class="code hl_function" href="class_window.html#a80a9dc31491365532bfcb5e6b726cbf4">setCamera</a>(&amp;camera);</div>
<div class="line"> </div>
<div class="line">        ground = <a class="code hl_function" href="object_8h.html#a1438b4e812210046ec08146589d0df10">createDebugBox</a>({5.0f, 0.5f, 5.0f});</div>
<div class="line">        <a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82aa3e8ae43188ae76d38f414b2bdb0077b">Texture</a> checkerboard = <a class="code hl_function" href="struct_texture.html#a7ed0da17f706d1d687f753193558527f">Texture::createDoubleCheckerboard</a>(</div>
<div class="line">            4096, 4096, 640, 80, <a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82acb5feb1b7314637725a2e73bdc9f7295">Color</a>(0.5, 0.5, 1.0), <a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82acb5feb1b7314637725a2e73bdc9f7295">Color</a>(0.5, 0.5, 1.0),</div>
<div class="line">            <a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82acb5feb1b7314637725a2e73bdc9f7295">Color</a>(0.375, 0.375, 0.75));</div>
<div class="line">        ground.<a class="code hl_function" href="class_core_object.html#a6a04b028500eb9c95e41886e2643672d">attachTexture</a>(checkerboard);</div>
<div class="line">        ground.<a class="code hl_variable" href="class_game_object.html#af69e678688bfef2c0bba4aa78085c8a8">body</a>-&gt;applyMass(0);</div>
<div class="line">        window.<a class="code hl_function" href="class_window.html#a884249b8d0ff2d1f1c1c0b3c2a2ca7ee">addObject</a>(&amp;ground);</div>
<div class="line"> </div>
<div class="line">        ball = <a class="code hl_function" href="object_8h.html#a489ccddca865b97fafa117e23b4d0f1c">createDebugSphere</a>(0.1);</div>
<div class="line">        ball.<a class="code hl_function" href="class_core_object.html#a7971c9dca915ded12b99a2513a499ff8">setPosition</a>({0.0, 2.0, 0.0}); <span class="comment">// Start above the ground</span></div>
<div class="line">        ball.<a class="code hl_variable" href="class_game_object.html#af69e678688bfef2c0bba4aa78085c8a8">body</a>-&gt;linearVelocity = {2.0, 0.0, 0.0};</div>
<div class="line">        ball.<a class="code hl_variable" href="class_game_object.html#af69e678688bfef2c0bba4aa78085c8a8">body</a>-&gt;friction = 0.5f;</div>
<div class="line">        window.<a class="code hl_function" href="class_window.html#a884249b8d0ff2d1f1c1c0b3c2a2ca7ee">addObject</a>(&amp;ball);</div>
<div class="line"> </div>
<div class="line">        sphereCube = SphereCube();</div>
<div class="line">        sphereCube.addComponent&lt;HorizontalMover&gt;(HorizontalMover());</div>
<div class="line">        window.<a class="code hl_function" href="class_window.html#a884249b8d0ff2d1f1c1c0b3c2a2ca7ee">addObject</a>(&amp;sphereCube);</div>
<div class="line"> </div>
<div class="line">        Resource fontResource = <a class="code hl_function" href="class_workspace.html#a8588fb898bffea4777ceffab7c2c7795">Workspace::get</a>().<a class="code hl_function" href="class_workspace.html#a6eaca94e589851c29b2f66acf28599cb">createResource</a>(</div>
<div class="line">            <span class="stringliteral">&quot;arial.ttf&quot;</span>, <span class="stringliteral">&quot;Arial&quot;</span>, <a class="code hl_enumvalue" href="workspace_8h.html#a8571efa4409be32e28abf3ea74a0dbb1a194f5394ae2e9c74dc3c441b92862d1d">ResourceType::Font</a>);</div>
<div class="line"> </div>
<div class="line">        fpsText = <a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82a9dffbf69ffba8bc38bc4e01abf4b1675">Text</a>(<span class="stringliteral">&quot;FPS: 0&quot;</span>, <a class="code hl_function" href="struct_font.html#aa7480b6cce6947e2180384e9b7a80c0c">Font::fromResource</a>(<span class="stringliteral">&quot;Arial&quot;</span>, fontResource, 24),</div>
<div class="line">                       {25.0, 25.0}, <a class="code hl_function" href="struct_color.html#aad4699ae003d7a86b5edc5fccdbaf4c8">Color::white</a>());</div>
<div class="line"> </div>
<div class="line">        fpsText.<a class="code hl_function" href="class_game_object.html#adf2a97be4a33d502eae78cf35f0b943e">addTraitComponent</a>&lt;<a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82a9dffbf69ffba8bc38bc4e01abf4b1675">Text</a>&gt;(FPSTextUpdater());</div>
<div class="line">        window.<a class="code hl_function" href="class_window.html#a884249b8d0ff2d1f1c1c0b3c2a2ca7ee">addObject</a>(&amp;fpsText);</div>
<div class="line"> </div>
<div class="line">        light = DirectionalLight({-0.75f, -1.0f, 0.0}, <a class="code hl_function" href="struct_color.html#aad4699ae003d7a86b5edc5fccdbaf4c8">Color::white</a>());</div>
<div class="line">        this-&gt;addDirectionalLight(&amp;light);</div>
<div class="line"> </div>
<div class="line">        this-&gt;ambientLight.intensity = 0.3f;</div>
<div class="line"> </div>
<div class="line">        skybox = <a class="code hl_enumvalue" href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82a63fbbc4fe17b5b4262ebe7c2921518ed">Skybox</a>();</div>
<div class="line">        skybox.<a class="code hl_variable" href="class_skybox.html#ab91d72f29e949ef124b953be43ac4713">cubemap</a> = createCubemap();</div>
<div class="line">        skybox.<a class="code hl_function" href="class_skybox.html#a0860e9aa6cbf872f3e37aecc632a66f8">display</a>(window);</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code hl_class" href="class_window.html">Window</a> window({.title = <span class="stringliteral">&quot;My Window&quot;</span>,</div>
<div class="line">                   .width = 1600,</div>
<div class="line">                   .height = 1200,</div>
<div class="line">                   .mouseCaptured = <span class="keyword">false</span>});</div>
<div class="line">    MainScene scene;</div>
<div class="line">    window.<a class="code hl_function" href="class_window.html#ac693d92bb6f52273932549cd121a5755">setScene</a>(&amp;scene);</div>
<div class="line">    window.<a class="code hl_function" href="class_window.html#ae137ec42ddc87d666d49661484410091">run</a>();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="ashader_8h_html_aed7a1c7a5976e4adb712d0a231dada82aa3e8ae43188ae76d38f414b2bdb0077b"><div class="ttname"><a href="shader_8h.html#aed7a1c7a5976e4adb712d0a231dada82aa3e8ae43188ae76d38f414b2bdb0077b">AtlasVertexShader::Texture</a></div><div class="ttdeci">@ Texture</div><div class="ttdoc">Vertex shader for rendering textured objects.</div><div class="ttdef"><b>Definition</b> <a href="shader_8h_source.html#l00050">shader.h:50</a></div></div>
<div class="ttc" id="atexture_8h_html_a579bf435a05d45b75f553d37ebbb3225a29b142520cd0349c9f7375be4aa848c0"><div class="ttname"><a href="texture_8h.html#a579bf435a05d45b75f553d37ebbb3225a29b142520cd0349c9f7375be4aa848c0">TextureType::Cubemap</a></div><div class="ttdeci">@ Cubemap</div><div class="ttdef"><b>Definition</b> <a href="texture_8h_source.html#l00071">texture.h:71</a></div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
